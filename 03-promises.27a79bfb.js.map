{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAe,QACvCF,EAAOG,iBAAkB,SAOzB,SAAqBC,GACQ,UAAtBA,EAAMC,OAAOC,KACXC,OAAQH,EAAMC,OAAOG,OAAU,GAClCC,EAAAX,GAASY,OAAOC,QAAS,mBAACP,EAAAC,OAA+BC,+BAC1BF,EAAzBC,OAAOG,MAAQ,IAErBI,EAAQL,OAAQH,EAAMC,OAAOG,OAEC,SAAtBJ,EAAMC,OAAOC,KAClBC,OAAQH,EAAMC,OAAOG,OAAU,GAClCC,EAAAX,GAASY,OAAOC,QAAS,mBAACP,EAAAC,OAA+BC,+BAC1BF,EAAzBC,OAAOG,MAAQ,IAErBK,EAAON,OAAQH,EAAMC,OAAOG,OAEC,WAAtBJ,EAAMC,OAAOC,OACjBC,OAAQH,EAAMC,OAAOG,OAAU,GAClCC,EAAAX,GAASY,OAAOC,QAAS,mBAACP,EAAAC,OAA+BC,+BAC1BF,EAAzBC,OAAOG,MAAQ,IAErBM,EAASP,OAAQH,EAAMC,OAAOG,O,IA1BpCR,EAAOG,iBAAkB,UA4CzB,SAAqBC,GACnBA,EAAMW,iBACN,IAAM,IAAIC,EAAI,EAAGA,GAAKF,EAAQE,GAAK,EACjCC,EAAeD,EAAGJ,GACjBM,MAAK,EAACC,SAAEA,EAAUC,MAAAC,MACjBZ,EAAAX,GAASY,OAAOY,QAAQ,uBAAqBH,QAAiBE,MAAU,IAEzEE,OAAM,EAACJ,SAAEA,EAAUC,MAAAI,MAClBf,EAAAX,GAASY,OAAOC,QAAQ,sBAAoBQ,QAAeK,MAAU,IAEvEZ,GAAgBC,C,IApDpB,IAAID,EAAQ,EACRC,EAAO,EACPC,EAAS,EA2Bb,SAASG,EAAeE,EAAUM,GAChC,OAAO,IAAIC,SAAS,CAAEC,EAAKC,KACzB,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,aAAa,KACPH,EACFF,EAAK,C,SAAER,EAAUC,MAAAK,IAEjBG,EAAK,C,SAAET,EAAUC,MAAAK,GAAS,GAE3BA,EAAM,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix'\n\nconst formEl = document.querySelector( 'form' );\nformEl.addEventListener( 'input', checkInput );\nformEl.addEventListener( 'submit', submitForm );\n\nlet delay = 0;\nlet step = 0;\nlet amount = 0;\n\nfunction checkInput( event ) {\n  if ( event.target.name === 'delay' ) {\n    if ( Number( event.target.value ) < 0 ) {\n      Notiflix.Notify.failure( `Значення в полі ${event.target.name} не може бути відємним!` );\n      event.target.value = '';\n    } else {\n      delay = Number( event.target.value );\n    }  \n  } else if ( event.target.name === 'step' ) {\n    if ( Number( event.target.value ) < 0 ) {\n      Notiflix.Notify.failure( `Значення в полі ${event.target.name} не може бути відємним!` );\n      event.target.value = '';\n    } else {\n      step = Number( event.target.value );\n    }  \n  } else if (event.target.name === 'amount' ) {\n    if ( Number( event.target.value ) < 0 ) {\n      Notiflix.Notify.failure( `Значення в полі ${event.target.name} не може бути відємним!` );\n      event.target.value = '';\n    } else {\n      amount = Number( event.target.value );\n    }  \n  }  \n}\n\nfunction createPromise( position, delay ) {\n  return new Promise( ( res, rej ) => {\n    const shouldResolve = Math.random() > 0.3;\n    setInterval( () => {\n      if (shouldResolve) {\n        res( { position, delay } )\n      } else {\n        rej( { position, delay } )\n      }  \n    }, delay)\n  } )\n}\n\nfunction submitForm( event ) {\n  event.preventDefault();\n  for ( let i = 1; i <= amount; i += 1 ) {\n    createPromise( i, delay )\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms` );\n    } );\n    delay = delay + step;\n  }\n}"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","addEventListener","event","target","name","Number","value","$parcel$interopDefault","Notify","failure","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$step","$47d4ff9957288465$var$amount","preventDefault","i","$47d4ff9957288465$var$createPromise","then","position","delay","delay2","success","catch","delay3","delay1","Promise","res","rej","shouldResolve","Math","random","setInterval"],"version":3,"file":"03-promises.27a79bfb.js.map"}