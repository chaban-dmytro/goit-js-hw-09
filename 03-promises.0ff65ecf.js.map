{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,WAGA,IAAMC,EAASC,SAASC,cAAe,QACvCF,EAAOG,iBAAkB,SAOzB,SAAqBC,GACQ,UAAtBA,EAAMC,OAAOC,KAChBC,EAAQC,OAAOJ,EAAMC,OAAOI,OACI,SAAtBL,EAAMC,OAAOC,KACvBI,EAAOF,OAAOJ,EAAMC,OAAOI,OACI,WAAtBL,EAAMC,OAAOC,OACtBK,EAASH,OAAOJ,EAAMC,OAAOI,O,IAZjCT,EAAOG,iBAAkB,UA6BzB,SAAqBC,GACnBA,EAAMQ,iBACN,IAAM,IAAIC,EAAI,EAAGA,GAAKF,EAAQE,GAAK,EACjCC,EAAeD,EAAGN,GACjBQ,MAAK,SAAAC,G,IAAGC,EAAQD,EAARC,SAAUC,EAAKF,EAALG,MAEjBC,EAAAtB,GAASuB,OAAOC,QAAQ,uBAAwCC,OAAfN,EAAS,QAAYM,OAANL,EAAM,M,IAEvEM,OAAM,SAAAR,G,IAAGC,EAAQD,EAARC,SAAUQ,EAAKT,EAALG,MAElBC,EAAAtB,GAASuB,OAAOK,QAAQ,sBAAqCH,OAAfN,EAAS,QAAYM,OAANE,EAAM,M,IAErElB,GAAgBG,C,IAvCpB,IAAIH,EAAQ,EACRG,EAAO,EACPC,EAAS,EAYb,SAASG,EAAeG,EAAUU,GAChC,OAAO,IAAIC,SAAS,SAAEC,EAAKC,GACzB,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,aAAa,WACPH,EACFF,EAAK,CAAEZ,WAAUE,MAAAQ,IAEjBG,EAAK,CAAEb,WAAUE,MAAAQ,G,GAElBA,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix'\nconst flatpickr = require( \"flatpickr\" );\n\nconst formEl = document.querySelector( 'form' );\nformEl.addEventListener( 'input', checkInput );\nformEl.addEventListener( 'submit', submitForm );\n\nlet delay = 0;\nlet step = 0;\nlet amount = 0;\n\nfunction checkInput( event ) {\n  if ( event.target.name === 'delay' ) {\n    delay = Number(event.target.value);\n  } else if ( event.target.name === 'step' ) {\n    step = Number(event.target.value);\n  } else if (event.target.name === 'amount' ) {\n    amount = Number(event.target.value);\n  }  \n}\n\nfunction createPromise( position, delay ) {\n  return new Promise( ( res, rej ) => {\n    const shouldResolve = Math.random() > 0.3;\n    setInterval( () => {\n      if (shouldResolve) {\n        res( { position, delay } )\n      } else {\n        rej( { position, delay } )\n      }  \n    }, delay)\n  } )\n}\n\nfunction submitForm( event ) {\n  event.preventDefault();\n  for ( let i = 1; i <= amount; i += 1 ) {\n    createPromise( i, delay )\n    .then(({ position, delay }) => {\n      // console.log( `✅ Fulfilled promise ${position} in ${delay}ms` );\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      // console.log( `❌ Rejected promise ${position} in ${delay}ms` );\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms` );\n    } );\n    delay = delay + step;\n  }\n}"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$formEl","document","querySelector","addEventListener","event","target","name","$ce04d3a99e08e73b$var$delay","Number","value","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$amount","preventDefault","i","$ce04d3a99e08e73b$var$createPromise","then","param","position","delay2","delay","$parcel$interopDefault","Notify","success","concat","catch","delay3","failure","delay1","Promise","res","rej","shouldResolve","Math","random","setInterval"],"version":3,"file":"03-promises.0ff65ecf.js.map"}