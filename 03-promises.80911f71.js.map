{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAASC,SAASC,cAAe,QACvCF,EAAOG,iBAAkB,SAOzB,SAAqBC,GACQ,UAAtBA,EAAMC,OAAOC,KACXC,OAAQH,EAAMC,OAAOG,OAAU,GAClCC,EAAAX,GAASY,OAAOC,QAAS,mBAAkDC,OAAlBR,EAAMC,OAAOC,KAAK,4BAC5CF,EAAzBC,OAAOG,MAAQ,IAErBK,EAAQN,OAAQH,EAAMC,OAAOG,OAEC,SAAtBJ,EAAMC,OAAOC,KAClBC,OAAQH,EAAMC,OAAOG,OAAU,GAClCC,EAAAX,GAASY,OAAOC,QAAS,mBAAkDC,OAAlBR,EAAMC,OAAOC,KAAK,4BAC5CF,EAAzBC,OAAOG,MAAQ,IAErBM,EAAOP,OAAQH,EAAMC,OAAOG,OAEC,WAAtBJ,EAAMC,OAAOC,OACjBC,OAAQH,EAAMC,OAAOG,OAAU,GAClCC,EAAAX,GAASY,OAAOC,QAAS,mBAAkDC,OAAlBR,EAAMC,OAAOC,KAAK,4BAC5CF,EAAzBC,OAAOG,MAAQ,IAErBO,EAASR,OAAQH,EAAMC,OAAOG,O,IA1BpCR,EAAOG,iBAAkB,UA4CzB,SAAqBC,GACnBA,EAAMY,iBACN,IAAM,IAAIC,EAAI,EAAGA,GAAKF,EAAQE,GAAK,EACjCC,EAAeD,EAAGJ,GACjBM,MAAK,SAAAC,G,IAAGC,EAAQD,EAARC,SAAUC,EAAKF,EAALG,MACjBd,EAAAX,GAASY,OAAOc,QAAQ,uBAAwCZ,OAAfS,EAAS,QAAYT,OAANU,EAAM,M,IAEvEG,OAAM,SAAAL,G,IAAGC,EAAQD,EAARC,SAAUK,EAAKN,EAALG,MAClBd,EAAAX,GAASY,OAAOC,QAAQ,sBAAqCC,OAAfS,EAAS,QAAYT,OAANc,EAAM,M,IAErEb,GAAgBC,C,IApDpB,IAAID,EAAQ,EACRC,EAAO,EACPC,EAAS,EA2Bb,SAASG,EAAeG,EAAUM,GAChC,OAAO,IAAIC,SAAS,SAAEC,EAAKC,GACzB,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,aAAa,WACPH,EACFF,EAAK,CAAER,WAAUE,MAAAI,IAEjBG,EAAK,CAAET,WAAUE,MAAAI,G,GAElBA,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix'\n\nconst formEl = document.querySelector( 'form' );\nformEl.addEventListener( 'input', checkInput );\nformEl.addEventListener( 'submit', submitForm );\n\nlet delay = 0;\nlet step = 0;\nlet amount = 0;\n\nfunction checkInput( event ) {\n  if ( event.target.name === 'delay' ) {\n    if ( Number( event.target.value ) < 0 ) {\n      Notiflix.Notify.failure( `Значення в полі ${event.target.name} не може бути відємним!` );\n      event.target.value = '';\n    } else {\n      delay = Number( event.target.value );\n    }  \n  } else if ( event.target.name === 'step' ) {\n    if ( Number( event.target.value ) < 0 ) {\n      Notiflix.Notify.failure( `Значення в полі ${event.target.name} не може бути відємним!` );\n      event.target.value = '';\n    } else {\n      step = Number( event.target.value );\n    }  \n  } else if (event.target.name === 'amount' ) {\n    if ( Number( event.target.value ) < 0 ) {\n      Notiflix.Notify.failure( `Значення в полі ${event.target.name} не може бути відємним!` );\n      event.target.value = '';\n    } else {\n      amount = Number( event.target.value );\n    }  \n  }  \n}\n\nfunction createPromise( position, delay ) {\n  return new Promise( ( res, rej ) => {\n    const shouldResolve = Math.random() > 0.3;\n    setInterval( () => {\n      if (shouldResolve) {\n        res( { position, delay } )\n      } else {\n        rej( { position, delay } )\n      }  \n    }, delay)\n  } )\n}\n\nfunction submitForm( event ) {\n  event.preventDefault();\n  for ( let i = 1; i <= amount; i += 1 ) {\n    createPromise( i, delay )\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms` );\n    } );\n    delay = delay + step;\n  }\n}"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$formEl","document","querySelector","addEventListener","event","target","name","Number","value","$parcel$interopDefault","Notify","failure","concat","$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$amount","preventDefault","i","$ce04d3a99e08e73b$var$createPromise","then","param","position","delay2","delay","success","catch","delay3","delay1","Promise","res","rej","shouldResolve","Math","random","setInterval"],"version":3,"file":"03-promises.80911f71.js.map"}